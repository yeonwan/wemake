import{w as O}from"./with-props-1xZZRI6v.js";import{j as m}from"./jsx-runtime-CEMuh2-_.js";import{O as P}from"./chunk-KNED5TY2-DZTTZ0eu.js";import{c as S}from"./utils-DjqsqOe8.js";import{r as l}from"./index-l2PZgWEW.js";const W=({squareSize:a=4,gridGap:d=6,flickerChance:b=.3,color:p="rgb(0, 0, 0)",width:R,height:x,className:k,maxOpacity:h=.3,...F})=>{const y=l.useRef(null),C=l.useRef(null),[v,E]=l.useState(!1),[j,N]=l.useState({width:0,height:0}),A=l.useMemo(()=>(n=>{if(typeof window>"u")return"rgba(0, 0, 0,";const e=document.createElement("canvas");e.width=e.height=1;const s=e.getContext("2d");if(!s)return"rgba(255, 0, 0,";s.fillStyle=n,s.fillRect(0,0,1,1);const[r,c,o]=Array.from(s.getImageData(0,0,1,1).data);return`rgba(${r}, ${c}, ${o},`})(p),[p]),$=l.useCallback((t,n,e)=>{const s=window.devicePixelRatio||1;t.width=n*s,t.height=e*s,t.style.width=`${n}px`,t.style.height=`${e}px`;const r=Math.floor(n/(a+d)),c=Math.floor(e/(a+d)),o=new Float32Array(r*c);for(let i=0;i<o.length;i++)o[i]=Math.random()*h;return{cols:r,rows:c,squares:o,dpr:s}},[a,d,h]),I=l.useCallback((t,n)=>{for(let e=0;e<t.length;e++)Math.random()<b*n&&(t[e]=Math.random()*h)},[b,h]),M=l.useCallback((t,n,e,s,r,c,o)=>{t.clearRect(0,0,n,e),t.fillStyle="transparent",t.fillRect(0,0,n,e);for(let i=0;i<s;i++)for(let f=0;f<r;f++){const g=c[i*r+f];t.fillStyle=`${A}${g})`,t.fillRect(i*(a+d)*o,f*(a+d)*o,a*o,a*o)}},[A,a,d]);return l.useEffect(()=>{const t=y.current,n=C.current;if(!t||!n)return;const e=t.getContext("2d");if(!e)return;let s,r;const c=()=>{const u=R||n.clientWidth,w=x||n.clientHeight;N({width:u,height:w}),r=$(t,u,w)};c();let o=0;const i=u=>{if(!v)return;const w=(u-o)/1e3;o=u,I(r.squares,w),M(e,t.width,t.height,r.cols,r.rows,r.squares,r.dpr),s=requestAnimationFrame(i)},f=new ResizeObserver(()=>{c()});f.observe(n);const g=new IntersectionObserver(([u])=>{E(u.isIntersecting)},{threshold:0});return g.observe(t),v&&(s=requestAnimationFrame(i)),()=>{cancelAnimationFrame(s),f.disconnect(),g.disconnect()}},[$,I,M,R,x,v]),m.jsx("div",{ref:C,className:S(`h-full w-full ${k}`),...F,children:m.jsx("canvas",{ref:y,className:"pointer-events-none",style:{width:j.width,height:j.height}})})};function D(){return[{title:"Authentication | WeMake"},{name:"description",content:"Sign in or create an account"}]}const G=O(function(){return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 h-screen",children:[m.jsx("div",{className:"hidden lg:block",children:m.jsx(W,{gridGap:5,color:"red",maxOpacity:.5,flickerChance:.2})}),m.jsx(P,{})]})});export{G as default,D as meta};
